pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- lakeside
-- by sestrenexsis
-- github.com/sestrenexsis/lakeside

_me="sestrenexsis"
_cart="lakeside"
--cartdata(_me.."_".._cart.."_1")
--_version=1

person={}

_layers={
	{0,0,16,4,0,0,4},
	{0,4,16,4,0,0,2},
	{0,8,16,4,0,0,1},
	{0,12,16,4,0,0,0.8}
}

function person:new(
	x, -- x position : number
	y  -- y position : number
	)
	local obj={
		x=x,
		y=y,
		an=0,
		fc=6
	}
	return setmetatable(
		obj,{__index=self}
	)
end

function person:update()
	if t()%0.25==0 then
		self.an=(self.an+1)%4
	end
end

function person:draw()
	local fx=self.f==4
	spr(
		self.an,self.x,self.y,1,2,fx
		)
end

function _init()
	--_cam={x=0,y=0}
	_p=person:new(64,56)
end

function _update()
	if btn(⬅️) then
		_p.x-=1
		_p.f=4
	elseif btn(➡️) then
		_p.x+=1
		_p.f=6
	end
	_p:update()
end

function _draw()
	cls(2)
	camera()
	for l in all(_layers) do
		local sw=8*l[3]
		local sh=8*l[4]
		local sx=l[5]
		local sy=l[6]
		sx=(sx-_p.x)/l[7]
		sy=(sy+_p.y)/l[7]
		repeat
			map(
				l[1],l[2],sx,sy,l[3],l[4]
				)
			sx+=sw
		until sx>=128
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ddd00000ddd00000ddd00000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ddd00000ddd00000ddd00000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd000000dd000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dd000100dd000000dd000000dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd01100ddd00001ddd00d00ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddd10001ddd00011ddd0dd01ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d0ddd00001dddd0010dddd0001dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd000011ddd0001ddd000011ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd000000dd000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd0000000d000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dd0000001d00000010dd00001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd00010001d000001000dd0001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d000001001d0000010000d0001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd00001001ddd00011000dd001ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000333b333399949999bbb3bbbbcc77cccc55555555dddd11dddddddddd0000000000000000000000000000000000000000000000000000000000000000
000000003bb3bb3399999999bbbbbbbbcccccccc55555655eeee111eeeeeeeee0000000000000000000000000000000000000000000000000000000000000000
000000003333333b99999994bbbbbbb3cccccccc55555665ddd13311dddddddd0000000000000000000000000000000000000000000000000000000000000000
00000000bb333bb399999999bbbbbbbbcccccccc55555555ee113311eeeeeeee0000000000000000000000000000000000000000000000000000000000000000
00000000333b333399949999bbb3bbbbcccc777756655555e11313111eeeeeee0000000000000000000000000000000000000000000000000000000000000000
000000003bb3bb3399999999bbbbbbbbcccccccc56555555e13311111eee11ee0000000000000000000000000000000000000000000000000000000000000000
000000003333333b99999994bbbbbbb3cccccccc55555555e1b3311111e1331e0000000000000000000000000000000000000000000000000000000000000000
00000000bb333bb399999999bbbbbbbbcccccccc55555555e1b133311111311e0000000000000000000000000000000000000000000000000000000000000000
00000000ddddddddddddd777777ddddddddddddddddddddd113111113113b31e0000000000000000000000000000000000000000000000000000000000000000
00000000ddddddddddd7777777777ddddddddddddddddddd33331311311313310000000000000000000000000000000000000000000000000000000000000000
00000000dddddddddd777777777777ddddddddddddddddddbb33131133b331110000000000000000000000000000000000000000000000000000000000000000
00000000ddddddddd77777777777777dddddddddddddddddb31313311b3133110000000000000000000000000000000000000000000000000000000000000000
00000000ddddddddd77777777777777ddddddddddddddddd333133113b3111110000000000000000000000000000000000000000000000000000000000000000
00000000ddddddd77777777777777777777777777ddddddd13133111333311311000000000000000000000000000000000000000000000000000000000000000
00000000dddddd7777777777777777777777777777dddddd13111113131131111111000000000000000000000000001100000000000000000000000000000000
00000000ddddd777777777777777777777777777777ddddd1b331131113111111111100000000000000000000000000100000000000000000000000000000000
00000000dddddd777777777777dddddddddddddddddddddd13111111111113111111010000000000000000000000001100000000000000000000000000000000
00000000ddddddd7777777777ddddddddddddddddddddddd13311111311131111111100000000000000000000000011100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd13111311111131111110000000000000000000000001011100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd11111111311111111111011000000000000000000001101100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd11113111111133111111111100000000000000000101111100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd31113111311331111111110100000000000000001110111100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd13133333333333311111111100000000000000101111111100000000000000000000000000000000
00000000dddddddddddddddddddddddddddddddddddddddd11111111111111111111111101000000000011111111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111110000000001000111111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111111101001001111111111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111111110000111111110111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111011111111111111111111111100000000000000000000000000000000
00000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111100000000000000000000000000000000
0000000000000000000000000000000000000000000000001c11c1111c1111c11111111111111111111111111111111100000000000000000000000000000000
000000000000000000000000000000000000000000000000cccccccccccccccc1111111111111111111111111111111100000000000000000000000000000000
__map__
5152535454556565656565656565656545454545454545454545454545454545454545454545454545454545454545450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6162626262636565515454525355656545454545454545454545454545454545454545454545454545454545454545450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6565656565656565616262626263656544444444444444444444444444444444444444444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6565656565656565656565656565656544444444444444444444444444444444444444444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4647464746474647464746474647464743434343434343434343434343434343434343434343434343434343434343430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5657565756575657565756575657565743434343434343434343434343434343434343434343434343434343434343430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6667666766676667666766676667666742424242424242424242424242424242424242424242424242424242424242420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7677767776777677767776777677767742424242424242424242424242424242424242424242424242424242424242420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4241424242424242424242414242424240404040404040404040404040404040404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4242424242424242424242424242424240404040404040404040404040404040404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
48494a4b48494a4b48494a4b48494a4b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
58595a5b58595a5b58595a5b58595a5b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
68696a6b68696a6b68696a6b68696a6b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
78797a7b78797a7b78797a7b78797a7b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
