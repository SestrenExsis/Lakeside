pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
-- lakeside
-- by sestrenexsis
-- github.com/sestrenexsis/lakeside

_me="sestrenexsis"
_cart="lakeside"
--cartdata(_me.."_".._cart.."_1")
--_version=1

person={}

_layers={
	{0,0,16,4,0,0,4},
	{0,4,16,4,0,0,2},
	{0,8,16,4,0,0,1},
	{0,12,16,4,0,0,0.8},
}

function person:new(
	x, -- x position : number
	y  -- y position : number
	)
	local obj={
		x=x,
		y=y,
		an=0,
		fc=6
	}
	return setmetatable(
		obj,{__index=self}
	)
end

function person:update()
	if t()%0.25==0 then
		self.an=(self.an+1)%4
	end
end

function person:draw()
	local fx=self.f==4
	spr(
		self.an,self.x,self.y,1,2,fx
		)
end

function _init()
	--_cam={x=0,y=0}
	_p=person:new(64,56)
end

function _update()
	if btn(⬅️) then
		_p.x-=1
		_p.f=4
	elseif btn(➡️) then
		_p.x+=1
		_p.f=6
	end
	_p:update()
end

function _draw()
	cls(2)
	camera()
	for l in all(_layers) do
		local sw=8*l[3]
		local sh=8*l[4]
		local sx=l[5]
		local sy=l[6]
		sx=(sx-_p.x)/l[7]
		sy=(sy+_p.y)/l[7]
		repeat
			map(
				l[1],l[2],sx,sy,l[3],l[4]
				)
			sx+=sw
		until sx>=128
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ddd00000ddd00000ddd00000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ddd00000ddd00000ddd00000ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd000000dd000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dd000100dd000000dd000000dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd01100ddd00001ddd00d00ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddd10001ddd00011ddd0dd01ddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d0ddd00001dddd0010dddd0001dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dddd000011ddd0001ddd000011ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd000000dd000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000dd000000dd0000000d000000dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00dd0000001d00000010dd00001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd00010001d000001000dd0001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d000001001d0000010000d0001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd00001001ddd00011000dd001ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
333b333399949999bbb3bbbbcc77cccc5555555511111111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
3bb3bb3399999999bbbbbbbbcccccccc5555565566661111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
3333333b99999994bbbbbbb3cccccccc5555566516611111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
bb333bb399999999bbbbbbbbcccccccc5555555511111111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
333b333399949999bbb3bbbbcccc77775665555511111111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
3bb3bb3399999999bbbbbbbbcccccccc5655555511116666cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
3333333b99999994bbbbbbb3cccccccc5555555511111661cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
bb333bb399999999bbbbbbbbcccccccc5555555511111111cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
ddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
dddddddddddddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddddddddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4445454544454545444545454445454545454545454545454545454545454545454545454545454545454545454545450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444454444444544444445444444454444444444444444444444444444444444444444444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4343464343464343464643434643464343434343434343434343434343434343434343434343434343434343434343430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4346464343434346434346434346434343434343434343434343434343434343434343434343434343434343434343430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4646434346434643464346434643464642424242424242424242424242424242424242424242424242424242424242420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4346434643434346434643434643434342424242424242424242424242424242424242424242424242424242424242420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4241424242424242424242414242424240404040404040404040404040404040404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4242424242424242424242424242424240404040404040404040404040404040404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000400000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040004000000000000000004000404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000400040000000000000400040004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040400000000040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
